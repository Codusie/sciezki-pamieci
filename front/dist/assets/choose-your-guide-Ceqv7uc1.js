import{_ as v}from"./index-Asf-SqbB.js";import{r as w,G as u,k as z,t as b}from"./twardowski-Dv7s6Tsz.js";import{q as g,c,a as t,F as p,A as y,p as h,g as _,v as x,w as C,t as T,o as d,y as B,u as S,G as m,aI as G,ag as M,x as R,J as j}from"./index-XILrx65l.js";import{_ as A}from"./IntroModal.vue_vue_type_style_index_0_lang-DsgD80p1.js";import"./index-Di6JQhgt.js";import"./index-D1h4SYUY.js";const I={class:"choose-guide"},N={class:"choose-guide__select"},V={class:"single-guide-button__content"},$={class:"single-guide-button__name"},E=["src","alt"],O=g({__name:"ChooseGuide",props:{loading:{type:Boolean}},emits:["select"],setup(k,{emit:n}){const s=n,i=[{key:"rejewski",name:"Marian Rejewski",color:u.rejewski,img:w},{key:"kazimierz_wielki",name:"Kazimierz Wielki",color:u.kazimierz_wielki,img:z},{key:"twardowski",name:"Pan Twardowski",color:u.twardowski,img:b}];return(a,o)=>{const r=v;return d(),c("div",I,[o[1]||(o[1]=t("div",{class:"choose-guide__title"},"Z kim chcesz poznaÄ‡ Bydgoszcz?",-1)),t("div",N,[(d(),c(p,null,y(i,e=>t("div",{key:e.name,class:h(["single-guide-button",`single-guide-button--${e.color}`]),tabindex:"0"},[t("div",V,[t("div",$,x(e.name),1),_(r,{class:"single-guide-button__button",size:"large",onClick:l=>s("select",e.key)},{default:C(()=>[...o[0]||(o[0]=[T(" Wybieram! ",-1)])]),_:1},8,["onClick"]),t("img",{src:e.img,alt:e.name,class:"single-guide-button__image"},null,8,E)])],2)),64))])])}}}),W=B(O,[["__scopeId","data-v-282afb6f"]]),J=g({__name:"choose-your-guide",setup(k){const n=S(),s=M(),i=m(),a=m(!1),o=async e=>{i.value=e,a.value=!0},r=async()=>{if(!i.value)return;await n.createNewSession(i.value),await j();const e=s.currentRoute.value.query.prev;e?s.push(e):s.push({name:"index"})};return G(()=>{n.accessToken&&s.push({name:"index"})}),(e,l)=>(d(),c(p,null,[_(W,{onSelect:o,loading:R(n).isInitializingSession},null,8,["loading"]),_(A,{visible:a.value,"onUpdate:visible":l[0]||(l[0]=f=>a.value=f),guide:i.value,onConfirm:r},null,8,["visible","guide"])],64))}});export{J as default};
